<div class="">
    @if (!user()) {

        <form [formGroup]="form" class="d-flex flex-column mb-5" (ngSubmit)="onSubmit()">

            <h4 class="mt-3">User Login</h4>

            <mat-form-field>
                <mat-label>
                    Email
                </mat-label>
                <input matInput type="text" 
                formControlName="email">
            </mat-form-field>
            <mat-form-field>
                <mat-label>
                    Password
                </mat-label>
                <input matInput type="password"
                formControlName="password">
            </mat-form-field>
        <hr>
        <button type="submit" class="btn btn-primary" [disabled]="!form.valid">
            Login
        </button>
        @if (invalidLogin) {
            <div class="alert alert-danger ">
                <strong>Error:</strong> Invalid Email or Password.
            </div>
        }
        </form>
    <app-register></app-register>

    } @else {

        <h2>Welcome {{user().Username}}</h2>
        @if (user().User_Role == 'Admin') {
            <div class="">
                <app-update-user-details></app-update-user-details>
                <app-delete-user></app-delete-user>
                <app-user-list></app-user-list>
            </div>
        }@else {
            <app-update-user-details></app-update-user-details>
            <app-delete-user></app-delete-user>

        }
    }
</div>

